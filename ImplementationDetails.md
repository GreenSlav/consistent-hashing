#  Архитектурное описание системы управления узлами с использованием Consistent Hashing

## Общая концепция

Данное приложение представляет собой инструмент для управления кластером серверов-узлов с использованием алгоритма **Consistent Hashing** и предоставляет пользователю графический интерфейс для мониторинга и управления узлами.

Система состоит из трёх основных компонентов:
1. **UI-приложение (диспетчер)** — десктопное приложение для управления кластером.
2. **Сервис-диспетчер** — логический слой обработки запросов и распределения нагрузки.
3. **Серверные узлы** — отдельные серверные процессы, участвующие в хранении и обработке данных.

## Компоненты и их задачи

### 1. UI-приложение (MAUI)
Интерфейсное приложение, разработанное с использованием .NET MAUI, выполняет следующие функции:
- Управление списком узлов:
  - Добавление нового узла.
  - Удаление существующего узла.
  - Редактирование конфигурации узла.
- Отслеживание состояния каждого узла:
  - Мониторинг использования **оперативной памяти** и **процессорных мощностей** в реальном времени.
  - Отображение состояния подключения.
  - Отображение истории ошибок и действий (журнал событий).
- Отображение общего состояния кластера:
  - Агрегированная статистика загрузки CPU и RAM.
  - Логи последних операций.

#### Примерная структура экрана:
- **Левая панель:** Список доступных узлов и кнопки управления.
- **Центральная часть:** Агрегированная информация и логи событий.
- **Правая панель:** Детальная информация о выбранном узле и инструменты управления.

### 2. Сервис-диспетчер
Логический уровень, отвечающий за обработку команд, поступающих из UI-приложения, и их ретрансляцию к узлам.  
Возможные способы взаимодействия:
- **gRPC** — основной способ взаимодействия (низкая задержка, высокая производительность).

Функциональность:
- Поддержка CRUD-операций над узлами.
- Перераспределение нагрузки при добавлении/удалении узлов.
- Централизованный сбор информации о состоянии узлов.
- Передача команд управления (например, перезапуск, отключение).

### 3. Серверные узлы
Независимые серверные процессы, обрабатывающие нагрузку и предоставляющие информацию о своём состоянии.

Функционал узлов:
- Поддержка удалённых команд от диспетчера (через gRPC/REST).
- Сбор информации о:
  - Загруженности CPU.
  - Использовании оперативной памяти.
  - Доступности и времени отклика.
- Реализация простого API для получения метрик и выполнения команд.

## Дополнительные возможности и идеи

В будущем возможно расширение функционала:
- Поддержка кластерных групп узлов.
- Интеграция алертинга при критической нагрузке.
- Настройка автоматического масштабирования (добавление/удаление узлов по нагрузке).
- Ведение исторических графиков и логов.

## Технологии

| Компонент       | Технология                    |
|-----------------|-------------------------------|
| UI-приложение  | .NET MAUI, C#                 |
| Взаимодействие | gRPC (основной), REST API (резервный) |
| Мониторинг     | System.Diagnostics, PerfCounters (Windows) / sysctl, top (Linux/macOS) |
| Балансировка   | Consistent Hashing, с возможностью смены алгоритма |

---

> Данное приложение создается с целью управления масштабируемым кластером серверов с возможностью гибкого мониторинга и управления нагрузкой в режиме реального времени.